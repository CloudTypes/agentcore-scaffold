# =============================================================================
# AWS Configuration
# =============================================================================
# Used by: docker-compose.yml, boto3 clients throughout codebase
# 
# IMPORTANT: If your AWS account requires MFA (Multi-Factor Authentication),
# you MUST run 'python scripts/fix_mfa.py' for each local development session
# and update the credentials below. The generated credentials are valid for 12 hours
# and are required for all AWS API calls (Bedrock, AgentCore Memory, etc.) during
# local development.
#
# Steps:
# 1. Run: python scripts/fix_mfa.py
# 2. Copy the export commands from the script output
# 3. Update the values below in your .env file
# 4. Comment out AWS_PROFILE when using session tokens
#
# LOCAL DEV ONLY: These variables are used for local development with docker-compose.
# In production, AWS credentials are provided via IAM roles (AgentCore Runtime, CodeBuild).
#
AWS_PROFILE=  # LOCAL DEV ONLY: Comment out when using session tokens from fix_mfa.py
AWS_ACCESS_KEY_ID=  # LOCAL DEV ONLY: Required: from fix_mfa.py output if using MFA
AWS_SECRET_ACCESS_KEY=  # LOCAL DEV ONLY: Required: from fix_mfa.py output if using MFA
AWS_SESSION_TOKEN=  # LOCAL DEV ONLY: Required: from fix_mfa.py output if using MFA (temporary credentials, valid 12 hours)
AWS_DEFAULT_REGION=  # LOCAL DEV ONLY / PRODUCTION: Used by docker-compose.yml and CDK
AWS_REGION=  # LOCAL DEV ONLY / PRODUCTION: Used by docker-compose.yml and CDK
AWS_ACCOUNT_ID=  # LOCAL DEV ONLY: Used by: scripts/fix_mfa.py (also provided in fix_mfa.py output)

# =============================================================================
# Project Configuration
# =============================================================================
# Used by: scripts/fix_mfa.py (optional, defaults to 'my-agent')
PROJECT_NAME=

# =============================================================================
# Model Configuration
# =============================================================================
# LOCAL DEV / PRODUCTION: These can be set in .env for local dev or in SSM Parameter Store for production
# Production SSM paths: /agentcore/voice-agent/{env}/{agent-name}-model
#
# Used by: agents/orchestrator/agent.py
# Production: /agentcore/voice-agent/{env}/orchestrator-model
ORCHESTRATOR_MODEL=

# Used by: agents/vision/agent.py
# Production: /agentcore/voice-agent/{env}/vision-model
VISION_MODEL=

# Used by: agents/document/agent.py
# Production: /agentcore/voice-agent/{env}/document-model
DOCUMENT_MODEL=

# Used by: agents/data/agent.py
# Production: /agentcore/voice-agent/{env}/data-model
DATA_MODEL=

# Used by: agents/tool/agent.py
# Production: /agentcore/voice-agent/{env}/tool-model
TOOL_MODEL=

# Used by: src/agent.py, agents/voice/app.py
# Production: /agentcore/voice-agent/{env}/voice-model
MODEL_ID=

# =============================================================================
# Voice Agent Configuration
# =============================================================================
# Used by: src/agent.py, agents/voice/app.py
VOICE=
INPUT_SAMPLE_RATE=
OUTPUT_SAMPLE_RATE=
SYSTEM_PROMPT=

# =============================================================================
# AgentCore Memory Configuration
# =============================================================================
# Note: AgentCore Memory uses AWS SDK, not HTTP endpoint or API key
# It uses AWS credentials (AWS_PROFILE or IAM role)
#
# LOCAL DEV / PRODUCTION: These can be set in .env for local dev or in SSM Parameter Store for production
# Production SSM paths: /agentcore/voice-agent/{env}/memory-*
#
# Used by: src/agent.py, agents/voice/app.py, agents/orchestrator/app.py
# Production: /agentcore/voice-agent/{env}/memory-enabled
MEMORY_ENABLED=

# Used by: src/memory/client.py, docker-compose.yml
# Production: /agentcore/voice-agent/{env}/memory-id (also in Secrets Manager: agentcore/voice-agent/{env}/memory-id)
AGENTCORE_MEMORY_ID=

# Used by: scripts/manage_memory.py
# LOCAL DEV ONLY: Full ARN of memory resource
AGENTCORE_MEMORY_ARN=

# Used by: src/memory/client.py, docker-compose.yml, infrastructure/cdk/app.py
# Production: /agentcore/voice-agent/{env}/memory-region
AGENTCORE_MEMORY_REGION=

# Used by: src/memory/session_manager.py
# LOCAL DEV ONLY: Number of past sessions to load for context
PAST_SESSIONS_COUNT=

# =============================================================================
# Agent Authentication (A2A Protocol)
# =============================================================================
# Used by: agents/shared/auth.py
# Note: All agents (orchestrator, vision, document, data, tool) must use the same value
# Generate using: openssl rand -hex 32
#
# LOCAL DEV / PRODUCTION: Set in .env for local dev or in Secrets Manager for production
# Production: agentcore/voice-agent/{env}/agent-auth-secret
AGENT_AUTH_SECRET=

# =============================================================================
# Google OAuth2 Configuration
# =============================================================================
# Used by: src/auth/google_oauth2.py
#
# LOCAL DEV / PRODUCTION: Set in .env for local dev or in Secrets Manager for production
# Production: agentcore/voice-agent/{env}/google-oauth2 (JSON format with client_id, client_secret, redirect_uri)
GOOGLE_CLIENT_ID=  # LOCAL DEV ONLY: For production, use Secrets Manager
GOOGLE_CLIENT_SECRET=  # LOCAL DEV ONLY: For production, use Secrets Manager
GOOGLE_REDIRECT_URI=  # LOCAL DEV ONLY: For production, use Secrets Manager
GOOGLE_WORKSPACE_DOMAIN=  # LOCAL DEV / PRODUCTION: Optional domain restriction

# =============================================================================
# Client JWT Configuration
# =============================================================================
# Used by: src/auth/google_oauth2.py
# Generate using: openssl rand -hex 32
# Note: Must be at least 32 characters long for security
#
# LOCAL DEV / PRODUCTION: Set in .env for local dev or in Secrets Manager for production
# Production: agentcore/voice-agent/{env}/jwt-secret (JSON format with secret_key)
JWT_SECRET_KEY=  # LOCAL DEV ONLY: For production, use Secrets Manager
JWT_ALGORITHM=  # LOCAL DEV / PRODUCTION: Defaults to HS256
JWT_EXPIRATION_MINUTES=  # LOCAL DEV / PRODUCTION: Defaults to 60

# =============================================================================
# External APIs
# =============================================================================
# Used by: agents/tool/tools/weather.py
#
# LOCAL DEV / PRODUCTION: Set in .env for local dev or in Secrets Manager for production
# Production: agentcore/voice-agent/{env}/weather-api-key (optional, only if weather tool is used)
WEATHER_API_KEY=  # LOCAL DEV / PRODUCTION: Optional API key for weather service

# =============================================================================
# Testing Configuration
# =============================================================================
# Used by: tests/integration/test_a2a_communication.py, tests/integration/test_multi_agent.py
# JWT token for integration tests to authenticate with orchestrator endpoints
# 
# To generate TEST_AUTH_TOKEN (choose one method):
#
# Method 1 - Via OAuth2 (recommended for production-like testing):
#   1. Start the orchestrator: docker-compose up orchestrator
#   2. Authenticate via OAuth2: curl http://localhost:9000/api/auth/login
#   3. Complete OAuth2 flow and extract the JWT token from the redirect URL
# 
# Method 2 - Generate programmatically using JWT_SECRET_KEY:
#   export JWT_SECRET_KEY=$(openssl rand -hex 32)
#   python3 -c "import jwt; import os; from datetime import datetime, timedelta; \
#     secret = os.getenv('JWT_SECRET_KEY'); \
#     token = jwt.encode({'sub': 'test-user', 'email': 'test@example.com', \
#     'exp': datetime.utcnow() + timedelta(hours=1), 'iat': datetime.utcnow()}, \
#     secret, algorithm='HS256'); print(token)"
#
# Method 3 - Simple test token (only for local development):
#   python3 -c "import jwt; from datetime import datetime, timedelta; \
#     token = jwt.encode({'sub': 'test-user', 'email': 'test@example.com', \
#     'exp': datetime.utcnow() + timedelta(hours=1), 'iat': datetime.utcnow()}, \
#     'test-secret-key-for-testing-only', algorithm='HS256'); print(token)"
TEST_AUTH_TOKEN=

# =============================================================================
# Advanced Configuration (Optional - defaults provided in code)
# =============================================================================
# LOCAL DEV / PRODUCTION: Most of these are local dev only. Production uses SSM Parameter Store.
#
# Used by: agents/shared/service_discovery.py, docker-compose.yml
# LOCAL DEV ONLY: In production, environment is determined by deployment context
ENVIRONMENT=development

# Used by: agents/orchestrator/app.py, src/routes/vision.py
# Production: /agentcore/voice-agent/{env}/s3-vision-bucket
S3_VISION_BUCKET=agentcore-vision-uploads
S3_UPLOAD_PREFIX=uploads/  # LOCAL DEV / PRODUCTION
VISION_PRESIGNED_URL_EXPIRY=3600  # LOCAL DEV / PRODUCTION

# Used by: agents/orchestrator/app.py
# LOCAL DEV ONLY: Ports are configured in AgentCore Runtime for production
A2A_PORT=9001
ORCHESTRATOR_HTTP_PORT=9000

# Used by: src/routes/vision.py
# LOCAL DEV ONLY: In production, endpoint is read from SSM Parameter Store
ORCHESTRATOR_BASE=http://localhost:9000

# Used by: agents/vision/agent.py
# LOCAL DEV / PRODUCTION: Token limit for Bedrock API calls
BEDROCK_MAX_TOKENS=4096

# =============================================================================
# Logging Configuration
# =============================================================================
# LOCAL DEV / PRODUCTION: Logging level configuration
# Note: Currently not used (logging is configured programmatically)
# May be used in future versions
LOG_LEVEL=INFO

# =============================================================================
# Production Deployment Notes
# =============================================================================
#
# For production deployments, most environment variables are managed via:
# 1. AWS Systems Manager (SSM) Parameter Store - for non-sensitive configuration
# 2. AWS Secrets Manager - for sensitive secrets (OAuth, JWT, API keys)
#
# See docs/ENVIRONMENT_VARIABLES.md for complete production variable reference
# See docs/DEPLOYMENT.md for deployment instructions
#
# CodeBuild pipelines automatically:
# - Build Docker images and push to ECR (separate repos per agent)
# - Update SSM parameters with image tags
# - Deploy CDK stacks
# - Update AgentCore Runtime with new images
#
# No manual 'agentcore configure' or 'agentcore launch' commands are needed.